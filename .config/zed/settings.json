// Zed settings
//
// For information on how to configure Zed, see the Zed
// documentation: https://zed.dev/docs/configuring-zed
//
// To see all of Zed's default settings without changing your
// custom settings, run `zed: open default settings` from the
// command palette (cmd-shift-p / ctrl-shift-p)
{
	"icon_theme": "Material Icon Theme",
 "session": {
		"trust_all_worktrees": true
	},
	"features": {
		"edit_prediction_provider": "copilot"
	},
	"terminal": {
		"font_size": 13.0,
		"font_family": "Berkeley Mono Medium",
		"cursor_shape": "underline",
		"blinking": "on",
		"max_scroll_history_lines": 1000
	},
	"telemetry": {
		"diagnostics": false,
		"metrics": false
	},
	"base_keymap": "VSCode",
	"agent": {
		"default_model": {
			"provider": "copilot_chat",
			"model": "gpt-5-codex"
		},
		"enabled": true,
		"button": true,
		"favorite_models": [],
		"model_parameters": []
	},
	"preview_tabs": {
		"enabled": false
	},
	"gutter": {
		"line_numbers": true
	},
	"minimap": {
		"show": "never",
		"max_width_columns": 25
	},
	"cursor_blink": false,
	"autosave": {
		"after_delay": {
			"milliseconds": 1000
		}
	},
	"buffer_font_family": "Berkeley Mono Medium",
	"colorize_brackets": true,
	"show_whitespaces": "selection",
	"show_edit_predictions": true,
	"soft_wrap": "none",
	"hard_tabs": true,
	"tab_size": 4,
	"vim_mode": true,
	"ui_font_size": 16,
	"buffer_font_size": 13.0,
	"theme": {
		"mode": "system",
		"light": "Gruvbox Light",
		"dark": "Catppuccin Mocha - No Italics"
	},
	// Global inlay hints (matching neovim config)
	"inlay_hints": {
		"enabled": true,
		"show_type_hints": true,
		"show_parameter_hints": true,
		"show_other_hints": true
	},
	// Global format on save
	"format_on_save": "on",
	// Language-specific configurations
	"languages": {
		"Python": {
			"format_on_save": "on",
			"inlay_hints": {
				"enabled": true,
				"show_parameter_hints": true
			},
			"code_actions_on_format": {
				"source.organizeImports.ruff": true,
				"source.fixAll.ruff": true
			},
			"formatter": {
				"external": {
					"command": "ruff",
					"arguments": ["format", "-"]
				}
			},
			"language_servers": ["ty", "!basedpyright"]
		},
		"Rust": {
			"format_on_save": "on",
			"formatter": "language_server",
			"inlay_hints": {
				"enabled": true,
				"show_parameter_hints": true,
				"show_type_hints": true
			}
		},
		"Go": {
			"format_on_save": "on",
			"formatter": "language_server",
			"inlay_hints": {
				"enabled": true,
				"show_parameter_hints": true,
				"show_type_hints": true
			},
			"code_actions_on_format": {
				"source.organizeImports": true
			}
		},
		"Zig": {
			"format_on_save": "on",
			"formatter": "language_server",
			"inlay_hints": {
				"enabled": true
			}
		},
		"C": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "clang-format",
					"arguments": ["-"]
				}
			},
			"inlay_hints": {
				"enabled": true
			}
		},
		"C++": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "clang-format",
					"arguments": ["-"]
				}
			},
			"inlay_hints": {
				"enabled": true
			}
		},
		"TypeScript": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "prettierd",
					"arguments": ["--stdin-filepath", "{buffer_path}"]
				}
			}
		},
		"TSX": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "prettierd",
					"arguments": ["--stdin-filepath", "{buffer_path}"]
				}
			}
		},
		"JavaScript": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "prettierd",
					"arguments": ["--stdin-filepath", "{buffer_path}"]
				}
			}
		},
		"JSX": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "prettierd",
					"arguments": ["--stdin-filepath", "{buffer_path}"]
				}
			}
		},
		"JSON": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "prettierd",
					"arguments": ["--stdin-filepath", "{buffer_path}"]
				}
			}
		},
		"Lua": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "stylua",
					"arguments": ["-"]
				}
			}
		},
		"YAML": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "yamlfmt",
					"arguments": ["-"]
				}
			}
		},
		"Markdown": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "prettierd",
					"arguments": ["--stdin-filepath", "{buffer_path}"]
				}
			}
		},
		"SQL": {
			"format_on_save": "on",
			"formatter": {
				"external": {
					"command": "sql-formatter",
					"arguments": []
				}
			}
		},
		"Terraform": {
			"format_on_save": "on",
			"formatter": "language_server"
		},
		"HTML": {
			"format_on_save": "on"
		},
		"Dockerfile": {
			"format_on_save": "off"
		},
		"PHP": {
			"format_on_save": "off",
			"inlay_hints": {
				"enabled": true
			}
		}
	},
	// LSP server configurations
	"lsp": {
		"ruff": {
			"initialization_options": {
				"settings": {
					"lineLength": 120,
					"fixAll": true,
					"organizeImports": true,
					"showSyntaxErrors": true,
					"lint": {
						"enable": true,
						"extendSelect": ["I"]
					},
					"format": {
						"preview": true
					}
				}
			}
		},
		"ty": {
			"settings": {
				"showSyntaxErrors": true,
				"completions": {
					"autoImport": true
				},
				"inlayHints": {
					"variableTypes": true,
					"callArgumentNames": true
				},
				"diagnosticMode": "workspace",
				"configuration": {
					"rules": {
						"unresolved-reference": "warn"
					}
				}
			}
		},
		"rust-analyzer": {
			"initialization_options": {
				"checkOnSave": true,
				"diagnostics": {
					"enable": true
				},
				"imports": {
					"granularity": {
						"group": "module"
					},
					"prefix": "self"
				},
				"cargo": {
					"buildScripts": {
						"enable": true
					}
				},
				"procMacro": {
					"enable": true
				},
				"experimental": {
					"serverStatusNotification": true
				}
			}
		},
		"gopls": {
			"initialization_options": {
				"usePlaceholders": true,
				"completeUnimported": true,
				"staticcheck": true,
				"gofumpt": true,
				"buildFlags": ["-tags=debug"],
				"analyses": {
					"unusedparams": true,
					"shadow": true,
					"nilness": true,
					"unusedwrite": true,
					"useany": true
				},
				"hints": {
					"parameterNames": true,
					"assignVariableTypes": true,
					"constantValues": true,
					"rangeVariableTypes": true,
					"compositeLiteralTypes": true,
					"compositeLiteralFields": true,
					"functionTypeParameters": true
				}
			}
		},
		"clangd": {
			"binary": {
				"arguments": [
					"--background-index",
					"--clang-tidy",
					"--header-insertion=iwyu",
					"--completion-style=detailed",
					"--function-arg-placeholders",
					"--fallback-style=llvm"
				]
			}
		},
		"yaml-language-server": {
			"settings": {
				"yaml": {
					"schemas": {
						"https://json.schemastore.org/github-workflow.json": "/.github/workflows/*",
						"https://raw.githubusercontent.com/instrumenta/kubernetes-json-schema/master/v1.18.0-standalone-strict/all.json": "/*.k8s.yaml",
						"https://cdn.jsdelivr.net/gh/roadrunner-server/roadrunner@latest/schemas/config/3.0.schema.json": ".rr*.yaml"
					}
				}
			}
		}
		// Basedpyright config (commented - using ty instead)
		// To switch from ty to basedpyright:
		// 1. Change Python language_servers to: ["basedpyright", "!ty"]
		// 2. Uncomment this block:
		// "basedpyright": {
		// 	"settings": {
		// 		"basedpyright.analysis": {
		// 			"typeCheckingMode": "strict",
		// 			"diagnosticMode": "workspace",
		// 			"inlayHints": {
		// 				"variableTypes": true,
		// 				"functionReturnTypes": true,
		// 				"callArgumentNames": true,
		// 				"genericTypes": true
		// 			}
		// 		}
		// 	}
		// }
	}
}
